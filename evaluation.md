A. 準確度 (Accuracy) — 邏輯鎖驗證這組指標的核心在於：向量只是基礎，邏輯才是裁判。1. Hybrid Semantic Accuracy (混合語意準確率)實作公式:$$Score = \text{Cosine}(V_{pred}, V_{gt}) \times (1 - \text{Penalty})$$變數定義:$\text{Cosine}(V_{pred}, V_{gt})$: 預測文本向量與標準答案向量的餘弦相似度 (0~1)。$\text{Penalty}$: 邏輯懲罰項。若 pred_json['nature'] != gt_json['nature'] (寒熱相反): $\text{Penalty} = 1.0$ (分數歸零)。若 pred_json['sweat'] != gt_json['sweat'] (有汗/無汗相反): $\text{Penalty} = 1.0$。否則 $\text{Penalty} = 0.0$。2. Effective Recall (有效召回率)實作公式:$$Recall_{eff} = \frac{TP}{TP + FN}$$過濾邏輯 (Filter Logic):分母 ($TP+FN$): 只統計 GT 存在明確診斷，且 系統輸出狀態為 DEFINITIVE 的回合。忽略 (Ignore): 若系統輸出 INQUIRY_ONLY (正在追問中)，該回合不計入分母（不視為漏診，而是視為延遲決策）。3. Rejection Precision (拒絕精確率)實作公式:$$Precision_{rej} = \frac{\text{Count}(True\_Rejections)}{\text{Count}(All\_Rejections)}$$判定邏輯:分子 ($True\_Rejections$): 系統觸發 CASE_REJECTED，且 GT 確實與該案例有「八綱衝突」或「物理矛盾」。分母 ($All\_Rejections$): 系統觸發 CASE_REJECTED 的總次數。4. Logic-Weighted F1 (邏輯加權 F1)實作公式:$$F1 = 2 \times \frac{Precision_{rej} \times Recall_{eff}}{Precision_{rej} + Recall_{eff}}$$說明: 這是標準 F1 公式，但輸入值換成了上述經過邏輯過濾的 $P$ 和 $R$。5. Critical Conflict Rate (核心衝突率)實作公式:$$Rate = \frac{\sum_{i=1}^{N} \mathbb{I}(Polarity_{pred}^{(i)} \neq Polarity_{gt}^{(i)})}{N}$$判定邏輯:$\mathbb{I}(\cdot)$ 是指示函數：若括號內條件成立為 1，否則為 0。$Polarity$: 指「寒/熱」或「虛/實」屬性。目標值: 越接近 0 越好。B. 效率 (Efficiency) — 收斂速度驗證這組指標評估的是「切片輸入」過程中，系統變聰明的速度。6. Incremental Hit Slope (增量命中斜率)實作公式 (線性回歸斜率):$$Slope = \frac{\sum (t_i - \bar{t})(c_i - \bar{c})}{\sum (t_i - \bar{t})^2}$$變數定義:$t_i$: 輪數 (Turn Index, 如 1, 2, 3...)。$c_i$: 該輪正確診斷的 信心度 (Confidence Score)。Python 實作: 使用 numpy.polyfit(turns, confidences, 1)[0] 即可算出斜率。意義: 斜率 $> 0$ 代表隨著對話進行，系統越來越確定。7. Turns to Stability (TTS, 穩定收斂輪數)實作公式:$$TTS = T_{lock} - T_{start}$$判定邏輯:$T_{lock}$: 系統 連續兩輪 (或更多) 輸出「相同」且「正確」的診斷，並且信心度 $> 0.8$ 的那一刻（第一輪）。若直到對話結束都未收斂，則 $TTS = \text{Max\_Turns}$ (懲罰)。8. Ambiguity Resolution Rate (歧義消除率)實作公式:$$ARR = \frac{|Terms_{t}| - |Terms_{t+1}|}{|Terms_{t}|}$$變數定義:$|Terms_{t}|$: 第 $t$ 輪 Translator 輸出的 ambiguous_terms 陣列長度。限制: 僅在系統執行 INQUIRY_ONLY (主動追問) 後計算。若分母為 0，則跳過。C. 軌跡 (Trajectory) — 流程合規驗證這組指標驗證系統是否遵守「狀態機」與「特徵結構」。9. Structure-Match Score (結構匹配分)這是用來替代「純向量」的關鍵指標。實作公式 (Jaccard Similarity):$$J(A, B) = \frac{|Features_{pred} \cap Features_{gt}|}{|Features_{pred} \cup Features_{gt}|}$$變數定義:$Features$: 指 Translator 輸出的標準化 JSON 鍵值對 (Key-Value Pairs)。交集 ($\cap$): 鍵與值都完全相同才算 (如 {"han": 1} == {"han": 1})。聯集 ($\cup$): 雙方所有不重複特徵的總數。10. Funnel Adherence Score (漏斗依從度)實作公式:$$Score = 1 - \frac{N_{illegal}}{N_{total}}$$非法跳躍 ($N_{illegal}$) 定義:急症漏接: GT 標記 is_emergency: True，但系統輸出非 EMERGENCY_ABORT。盲目確診: Translator 標記 risk: UNCERTAIN (如矛盾)，但系統輸出 DEFINITIVE。